function math.round(a,b)local c=10^(b or 0)return math.floor(a*c+0.5)/c end;local d={}local e={__index=d}e.__call=function(f,g,h,i)g=g or f.p;h=h or f.y;i=i or f.r;f.p=g;f.y=h;f.r=i end;local function f(j,k,l)return setmetatable({p=j and j or 0,y=k and k or 0,r=l and l or 0},e)end;function d:offset(m,n,o)m=self.p+m or 0;n=self.y+n or 0;o=self.r+o or 0;self.p=self.p+m;self.y=self.y+n;self.r=self.r+o end;function d:clone()return setmetatable({p=self.p,y=self.y,r=self.r},e)end;function d:clone_offset(m,n,o)m=self.p+m or 0;n=self.y+n or 0;o=self.r+o or 0;return f(self.p+m,self.y+n,self.r+o)end;function d:unpack()return self.p,self.y,self.r end;function d:nullify()self.p=0;self.y=0;self.r=0 end;function e.__tostring(p)return string.format("%s, %s, %s",p.p,p.y,p.r)end;function e.__concat(p)return string.format("%s, %s, %s",p.p,p.y,p.r)end;function e.__add(p,q)if type(p)=="number"then return f(p+q.p,p+q.y,p+q.r)end;if type(q)=="number"then return f(p.p+q,p.y+q,p.r+q)end;return f(p.p+q.p,p.y+q.y,p.r+q.r)end;function e.__sub(p,q)if type(p)=="number"then return f(p-q.p,p-q.y,p-q.r)end;if type(q)=="number"then return f(p.p-q,p.y-q,p.r-q)end;return f(p.p-q.p,p.y-q.y,p.r-q.r)end;function e.__mul(p,q)if type(p)=="number"then return f(p*q.p,p*q.y,p*q.r)end;if type(q)=="number"then return f(p.p*q,p.y*q,p.r*q)end;return f(p.p*q.p,p.y*q.y,p.r*q.r)end;function e.__div(p,q)if type(p)=="number"then return f(p/q.p,p/q.y,p/q.r)end;if type(q)=="number"then return f(p.p/q,p.y/q,p.r/q)end;return f(p.p/q.p,p.y/q.y,p.r/q.r)end;function e.__pow(p,q)if type(p)=="number"then return f(math.pow(p,q.p),math.pow(p,q.y),math.pow(p,q.r))end;if type(q)=="number"then return f(math.pow(p.p,q),math.pow(p.y,q),math.pow(p.r,q))end;return f(math.pow(p.p,q.p),math.pow(p.y,q.y),math.pow(p.r,q.r))end;function e.__mod(p,q)if type(p)=="number"then return f(p%q.p,p%q.y,p%q.r)end;if type(q)=="number"then return f(p.p%q,p.y%q,p.r%q)end;return f(p.p%q.p,p.y%q.y,p.r%q.r)end;function e.__unm(p)return f(-p.p,-p.y,-p.r)end;function d:round_zero()self.p=math.floor(self.p+0.5)self.y=math.floor(self.y+0.5)self.r=math.floor(self.r+0.5)end;function d:round(b)self.p=math.round(self.p,b)self.y=math.round(self.y,b)self.r=math.round(self.r,b)end;function d:round_base(r)self.p=r*math.round(self.p/r)self.y=r*math.round(self.y/r)self.r=r*math.round(self.r/r)end;function d:rounded_zero()return f(math.floor(self.p+0.5),math.floor(self.y+0.5),math.floor(self.r+0.5))end;function d:rounded(b)return f(math.round(self.p,b),math.round(self.y,b),math.round(self.r,b))end;function d:rounded_base(r)return f(r*math.round(self.p/r),r*math.round(self.y/r),r*math.round(self.r/r))end;local s={}local t={__index=s}t.__call=function(u,v,h,w)v=v or u.x;h=h or u.y;w=w or u.z;u.x=v;u.y=h;u.z=w end;local function u(x,k,y)return setmetatable({x=x and x or 0,y=k and k or 0,z=y and y or 0},t)end;function s:offset(z,n,A)z=z or 0;n=n or 0;A=A or 0;self.x=self.x+z;self.y=self.y+n;self.z=self.z+A end;function s:clone()return setmetatable({x=self.x,y=self.y,z=self.z},t)end;function s:clone_offset(z,n,A)z=z or 0;n=n or 0;A=A or 0;return setmetatable({x=self.x+z,y=self.y+n,z=self.z+A},t)end;function s:unpack()return self.x,self.y,self.z end;function s:nullify()self.x=0;self.y=0;self.z=0 end;function t.__tostring(p)return string.format("%s, %s, %s",p.x,p.y,p.z)end;function t.__concat(p)return string.format("%s, %s, %s",p.x,p.y,p.z)end;function t.__eq(p,q)return p.x==q.x and p.y==q.y and p.z==q.z end;function t.__lt(p,q)if type(p)=="number"then return p<q.x or p<q.y or p<q.z end;if type(q)=="number"then return p.x<q or p.y<q or p.z<q end;return p.x<q.x or p.y<q.y or p.z<q.z end;function t.__le(p,q)if type(p)=="number"then return p<=q.x or p<=q.y or p<=q.z end;if type(q)=="number"then return p.x<=q or p.y<=q or p.z<=q end;return p.x<=q.x or p.y<=q.y or p.z<=q.z end;function t.__add(p,q)if type(p)=="number"then return u(p+q.x,p+q.y,p+q.z)end;if type(q)=="number"then return u(p.x+q,p.y+q,p.z+q)end;return u(p.x+q.x,p.y+q.y,p.z+q.z)end;function t.__sub(p,q)if type(p)=="number"then return u(p-q.x,p-q.y,p-q.z)end;if type(q)=="number"then return u(p.x-q,p.y-q,p.z-q)end;return u(p.x-q.x,p.y-q.y,p.z-q.z)end;function t.__mul(p,q)if type(p)=="number"then return u(p*q.x,p*q.y,p*q.z)end;if type(q)=="number"then return u(p.x*q,p.y*q,p.z*q)end;return u(p.x*q.x,p.y*q.y,p.z*q.z)end;function t.__div(p,q)if type(p)=="number"then return u(p/q.x,p/q.y,p/q.z)end;if type(q)=="number"then return u(p.x/q,p.y/q,p.z/q)end;return u(p.x/q.x,p.y/q.y,p.z/q.z)end;function t.__pow(p,q)if type(p)=="number"then return u(math.pow(p,q.x),math.pow(p,q.y),math.pow(p,q.z))end;if type(q)=="number"then return u(math.pow(p.x,q),math.pow(p.y,q),math.pow(p.z,q))end;return u(math.pow(p.x,q.x),math.pow(p.y,q.y),math.pow(p.z,q.z))end;function t.__mod(p,q)if type(p)=="number"then return u(p%q.x,p%q.y,p%q.z)end;if type(q)=="number"then return u(p.x%q,p.y%q,p.z%q)end;return u(p.x%q.x,p.y%q.y,p.z%q.z)end;function t.__unm(p)return u(-p.x,-p.y,-p.z)end;function s:length2_squared()return self.x*self.x+self.y*self.y end;function s:length2()return math.sqrt(self:length2_squared())end;function s:length_squared()return self.x*self.x+self.y*self.y+self.z*self.z end;function s:length()return math.sqrt(self:length_squared())end;function s:dot_product(B)return self.x*B.x+self.y*B.y+self.z*B.z end;function s:cross_product(B)return s(self.y*B.z-self.z*B.y,self.z*B.x-self.x*B.z,self.x*B.y-self.y*B.x)end;function s:distance2(B)return(B-self):length2()end;function s:distance(B)return(B-self):length()end;function s:distance_x(B)return math.abs(self.x-B.x)end;function s:distance_y(B)return math.abs(self.y-B.y)end;function s:distance_z(B)return math.abs(self.z-B.z)end;function s:in_range(B,C)return self:distance(B)<=C end;function s:round_zero()self.x=math.floor(self.x+0.5)self.y=math.floor(self.y+0.5)self.z=math.floor(self.z+0.5)end;function s:round(b)self.x=math.round(self.x,b)self.y=math.round(self.y,b)self.z=math.round(self.z,b)end;function s:round_base(r)self.x=r*math.round(self.x/r)self.y=r*math.round(self.y/r)self.z=r*math.round(self.z/r)end;function s:rounded_zero()return u(math.floor(self.x+0.5),math.floor(self.y+0.5),math.floor(self.z+0.5))end;function s:rounded(b)return u(math.round(self.x,b),math.round(self.y,b),math.round(self.z,b))end;function s:rounded_base(r)return u(r*math.round(self.x/r),r*math.round(self.y/r),r*math.round(self.z/r))end;function s:normalize()local D=self:length()if D~=0 then self.x=self.x/D;self.y=self.y/D;self.z=self.z/D else self.x=0;self.y=0;self.z=1 end end;function s:normalized_length()return self:length()end;function s:normalized()local D=self:length()if D~=0 then return u(self.x/D,self.y/D,self.z/D)else return u(0,0,1)end end;function s:to_screen(E)local x,k=renderer.world_to_screen(self.x,self.y,self.z)if x==nil or k==nil then return nil end;if E==true then local F,G=client.screen_size()if x<0 or x>F or k<0 or k>G then return nil end end;return u(x,k)end;function s:magnitude()return math.sqrt(math.pow(self.x,2)+math.pow(self.y,2)+math.pow(self.z,2))end;function s:angle_to(H)local I=u(H.x-self.x,H.y-self.y,H.z-self.z)if I.x==0 and I.y==0 then return f(I.z>0 and 270 or 90,0)else local J=math.deg(math.atan2(I.y,I.x))local K=math.sqrt(I.x*I.x+I.y*I.y)local L=math.deg(math.atan2(-I.z,K))return f(L,J)end end;function s:trace_line_to(H,M)M=M or-1;return client.trace_line(M,self.x,self.y,self.z,H.x,H.y,H.z)end;function s:lerp(H,N)return self+(H-self)*N end;function s:trace_line_impact(H,M)M=M or-1;local O,P=client.trace_line(M,self.x,self.y,self.z,H.x,H.y,H.z)local Q=self:lerp(H,O)return O,P,Q end;function s:trace_line_skip(H,R,S)S=S or 10;local O,P=0,-1;local Q=self;local T=0;while S>=T and O<1 and(P>-1 and R(P)or Q==self)do O,P,Q=Q:trace_line_impact(H,P)T=T+1 end;return self:distance(Q)/self:distance(H),P,Q end;function s:trace_bullet_to(U,H)return client.trace_bullet(U,self.x,self.y,self.z,H.x,H.y,H.z)end;function s:closest_ray_point(V,H)local W=(H-V)/V:distance(H)local X=self-V;local D=X:dot_product(W)return V+W*D end;function s:divide_ray(H,Y)return(self*Y+H)/(1+Y)end;local function Z(V,H,_,a0)return u((V.x*a0+H.x*_)/(_+a0),(V.y*a0+H.y*_)/(_+a0),(V.z*a0+H.z*_)/(_+a0))end;function s:segment_ray(H,a1)local a2={}for T=0,a1 do a2[T]=Z(self,H,T,a1-T)end;return a2 end;function s:ray(H,a3)a3=a3 or 128;local a1={}local a4=self:distance(H)/a3;local f=self:angle_to(H)local W=f:to_forward_vector()for T=1,a3 do table.insert(a1,self+W*a4*T)end;local a5=u(0,0,0)local a6=u(0,0,0)local a7=false;local a8=false;for T=1,#a1 do a5=a1[T]:to_screen()if a5~=nil then a7=true;break end end;for T=#a1,1,-1 do a6=a1[T]:to_screen()if a6~=nil then a8=true;break end end;if a7 and a8 then return a5,a6 end;return nil end;function s:inside_polygon2(a9)local aa=false;local ab=#a9;local ac=ab;for T=1,ab do if a9[T].y<self.y and a9[ac].y>=self.y or a9[ac].y<self.y and a9[T].y>=self.y then if a9[T].x+(self.y-a9[T].y)/(a9[ac].y-a9[T].y)*(a9[ac].x-a9[T].x)<self.x then aa=not aa end end;ac=T end;return aa end;function s:draw_circle(ad,l,ae,af,ag,ah,ai,aj,ak,N)local ah=ah~=nil and ah or 3;local ai=ai~=nil and ai or 1;local aj=aj~=nil and aj or false;local ak=ak~=nil and ak or 0;local N=N~=nil and N or 1;local al,am;for an=ak,N*360,ah do local ao=math.rad(an)local ap,aq,ar=ad*math.cos(ao)+self.x,ad*math.sin(ao)+self.y,self.z;local as,at=renderer.world_to_screen(ap,aq,ar)if as~=nil and al~=nil then for T=1,ai do local T=T-1;renderer.line(as,at-T,al,am-T,l,ae,af,ag)end;if aj then local au=ag/255*160;renderer.line(as,at-ai,al,am-ai,16,16,16,au)renderer.line(as,at+1,al,am+1,16,16,16,au)end end;al,am=as,at end end;function s.draw_polygon(a9,l,ae,af,ag,a1)for av,aw in pairs(a9)do local ax=a9[av+1]if ax==nil then ax=a9[1]end;local ay,az=aw:ray(ax,a1 or 64)if ay~=nil and az~=nil then renderer.line(ay.x,ay.y,az.x,az.y,l,ae,af,ag)end end end;function d:to_forward_vector()local aA=function(aB)return aB*math.pi/180 end;local aC=math.sin(aA(self.p))local aD=math.cos(aA(self.p))local aE=math.sin(aA(self.y))local aF=math.cos(aA(self.y))return u(aD*aF,aD*aE,-aC)end;function d:to_up_vector()local aA=function(aB)return aB*math.pi/180 end;local aC=math.sin(aA(self.p))local aD=math.cos(aA(self.p))local aE=math.sin(aA(self.y))local aF=math.cos(aA(self.y))local aG=math.sin(aA(self.r))local aH=math.cos(aA(self.r))return u(aH*aC*aF+aG*aE,aH*aC*aE+aG*aF*-1,aH*aD)end;function d:to_right_vector()local aA=function(aB)return aB*math.pi/180 end;local aC=math.sin(aA(self.p))local aD=math.cos(aA(self.p))local aE=math.sin(aA(self.y))local aF=math.cos(aA(self.y))local aG=math.sin(aA(self.r))local aH=math.cos(aA(self.r))return u(aG*aC*aF*-1+aH*aE,aG*aC*aE*-1+-1*aH*aF,-1*aG*aD)end;function d:to_backward_vector()local aA=function(aB)return aB*math.pi/180 end;local aC=math.sin(aA(self.p))local aD=math.cos(aA(self.p))local aE=math.sin(aA(self.y))local aF=math.cos(aA(self.y))return-u(aD*aF,aD*aE,-aC)end;function d:to_left_vector()local aA=function(aB)return aB*math.pi/180 end;local aC=math.sin(aA(self.p))local aD=math.cos(aA(self.p))local aE=math.sin(aA(self.y))local aF=math.cos(aA(self.y))local aG=math.sin(aA(self.r))local aH=math.cos(aA(self.r))return-u(aG*aC*aF*-1+aH*aE,aG*aC*aE*-1+-1*aH*aF,-1*aG*aD)end;function d:to_down_vector()local aA=function(aB)return aB*math.pi/180 end;local aC=math.sin(aA(self.p))local aD=math.cos(aA(self.p))local aE=math.sin(aA(self.y))local aF=math.cos(aA(self.y))local aG=math.sin(aA(self.r))local aH=math.cos(aA(self.r))return-u(aH*aC*aF+aG*aE,aH*aC*aE+aG*aF*-1,aH*aD)end;function d:fov_to(V,H)local aI=self:to_forward_vector()local aJ=(H-V):normalized()local aK=math.acos(aI:dot_product(aJ)/aJ:length())return math.max(0.0,math.deg(aK))end;function d:bearing(b)local J=180-self.y+90;local aB=(J%360+360)%360;aB=aB>180 and aB-360 or aB;return math.round(aB+180,b)end;function d:start_degrees()local J=self.y;local aB=(J%360+360)%360;aB=aB>180 and aB-360 or aB;return aB+180 end;function d:normalize()local L=self.p;if L<-89 then L=-89 elseif L>89 then L=89 end;local J=self.y;while J>180 do J=J-360 end;while J<-180 do J=J+360 end;return f(L,J,0)end;function d:normalized()if self.p<-89 then self.p=-89 elseif self.p>89 then self.p=89 end;local J=self.y;while J>180 do J=J-360 end;while J<-180 do J=J+360 end;self.y=J;self.r=0 end;local function aL(aM,aN,aO,...)if not aM then error(string.format(aO,...),aN)end end;local aP={rage={"aimbot","other"},aa={"anti-aimbot angles","fake lag","other"},legit={"weapon type","aimbot","triggerbot","other"},visuals={"player esp","other esp","colored models","effects"},misc={"miscellaneous","settings","lua","other"},skins={"weapon skin","knife options","glove options"},config={"presets","lua"},players={"players","adjustments"},lua={"a","b"}}for aQ,aR in pairs(aP)do aP[aQ]={}for T=1,#aR do aP[aQ][aR[T]]=true end end;local aS={}local aT={__index=aS}function aT.__call(aU,...)local aV={...}if#aV==0 then return aU:get()end;local aW={pcall(aU.set,aU,unpack(aV))}aL(aW[1],4,aW[2])return aU end;function aS.new(aX,aQ,aY,aZ,...)local a_;local b0=false;if type(aX)=="function"then local b1={pcall(aX,aQ,aY,aZ,...)}aL(b1[1],4,"Cannot create menu item because: %s",b1[2])a_=b1[2]else a_=aX;b0=true end;return setmetatable({tab=aQ,container=aY,name=aZ,reference=a_,visible=true,hidden_value=nil,children={},ui_callback=nil,callbacks={},is_menu_reference=b0,getter={callback=nil,data=nil},setter={callback=nil,data=nil},parent_value_or_callback=nil},aT)end;function aS:set_hidden_value(b2)self.hidden_value=b2 end;function aS:set(...)local aV={...}if self.setter.callback~=nil then aV=self.setter.callback(unpack(aV))end;local aW={pcall(ui.set,self.reference,unpack(aV))}aL(aW[1],3,"Cannot set values of menu item because: %s",aW[2])end;function aS:get()if self.visible==false and self.hidden_value~=nil then return self.hidden_value end;local b3={ui.get(self.reference)}if self.getter.callback~=nil then return self.getter.callback(b3)end;return unpack(b3)end;function aS:set_setter_callback(R,b4)aL(type(R)=="function",3,"Cannot set menu item setter callback: argument must be a function.")self.setter.callback=R;self.setter.data=b4 end;function aS:set_getter_callback(R,b4)aL(type(R)=="function",3,"Cannot set menu item getter callback: argument must be a function.")self.getter.callback=R;self.getter.data=b4 end;function aS:add_children(b5,b6)if b6==nil then b6=true end;if getmetatable(b5)==aT then b5={b5}end;for b7,b8 in pairs(b5)do aL(getmetatable(b8)==aT,3,"Cannot add child to menu item: children must be menu item objects. Make sure you are not trying to parent a UI reference.")aL(b8.reference~=self.reference,3,"Cannot parent a menu item to iself.")b8.parent_value_or_callback=b6;self.children[b8.reference]=b8 end;aS._process_callbacks(self)end;function aS:add_callback(R)aL(self.is_menu_reference==false,3,"Cannot add callbacks to built-in menu items.")aL(type(R)=="function",3,"Callbacks for menu items must be functions.")table.insert(self.callbacks,R)aS._process_callbacks(self)end;function aS._process_callbacks(aU)local R=function()for b7,b8 in pairs(aU.children)do local b9;if type(b8.parent_value_or_callback)=="function"then b9=b8.parent_value_or_callback()else b9=aU:get()==b8.parent_value_or_callback end;local ba=b9==true and aU.visible==true;b8.visible=ba;ui.set_visible(b8.reference,ba)if b8.ui_callback~=nil then b8.ui_callback()end end;for T=1,#aU.callbacks do aU.callbacks[T]()end end;ui.set_callback(aU.reference,R)aU.ui_callback=R;R()end;local bb={}local bc={__index=bb}function bb.new(aQ,aY)bb._validate_tab_container(aQ,aY)return setmetatable({tab=aQ,container=aY,children={}},bc)end;function bb:save_to_db()local bd=string.format("%s_%s",self.tab,self.container)for b7,aU in pairs(self.children)do local be=string.format("%s_%s",bd,aU.name)local b4={aU()}database.write(be,b4)end end;function bb:load_from_db()local bd=string.format("%s_%s",self.tab,self.container)for b7,aU in pairs(self.children)do local be=string.format("%s_%s",bd,aU.name)local b4=database.read(be)if b4~=nil then aU(unpack(b4))end end end;function bb:parent_all_to(aU,b6)local b5=self.children;b5[aU.reference]=nil;aU:add_children(b5,b6)end;function bb.reference(aQ,aY,aZ)bb._validate_tab_container(aQ,aY)local bf={pcall(ui.reference,aQ,aY,aZ)}aL(bf[1],3,"Cannot reference Gamesense menu item because: %s",bf[2])local bg={select(2,unpack(bf))}local bh={}for T=1,#bg do table.insert(bh,aS.new(bg[T],aQ,aY,aZ))end;return unpack(bh)end;function bb:checkbox(aZ)return self:_create_item(ui.new_checkbox,aZ)end;function bb:slider(aZ,bi,bj,bk,bl,bm,bn,bo)if type(bk)=="table"then local bp=bk;bk=bp.default;bl=bp.show_tooltip;bm=bp.unit;bn=bp.scale;bo=bp.tooltips end;bk=bk or nil;bl=bl or true;bm=bm or nil;bn=bn or 1;bo=bo or nil;aL(type(bi)=="number",3,"Slider min value must be a number.")aL(type(bj)=="number",3,"Slider max value must be a number.")aL(bi<bj,3,"Slider min value must be below the max value.")if bk~=nil then aL(bk>=bi and bk<=bj,3,"Slider default must be between min and max values.")end;return self:_create_item(ui.new_slider,aZ,bi,bj,bk,bl,bm,bn,bo)end;function bb:combobox(aZ,...)local aV={...}if type(aV[1])=="table"then aV=aV[1]end;return self:_create_item(ui.new_combobox,aZ,aV)end;function bb:multiselect(aZ,...)local aV={...}if type(aV[1])=="table"then aV=aV[1]end;return self:_create_item(ui.new_multiselect,aZ,aV)end;function bb:hotkey(aZ,bq)if bq==nil then bq=false end;aL(type(bq)=="boolean",3,"Hotkey inline argument must be a boolean.")return self:_create_item(ui.new_hotkey,aZ,bq)end;function bb:button(aZ,R)aL(type(R)=="function",3,"Cannot set button callback because the callback argument must be a function.")return self:_create_item(ui.new_button,aZ,R)end;function bb:color_picker(aZ,l,ae,af,ag)l=l or 255;ae=ae or 255;af=af or 255;ag=ag or 255;aL(type(l)=="number"and l>=0 and l<=255,3,"Cannot set color picker red channel value. It must be between 0 and 255.")aL(type(ae)=="number"and ae>=0 and ae<=255,3,"Cannot set color picker green channel value. It must be between 0 and 255.")aL(type(af)=="number"and af>=0 and af<=255,3,"Cannot set color picker blue channel value. It must be between 0 and 255.")aL(type(ag)=="number"and ag>=0 and ag<=255,3,"Cannot set color picker alpha channel value. It must be between 0 and 255.")return self:_create_item(ui.new_color_picker,aZ,l,ae,af,ag)end;function bb:textbox(aZ)return self:_create_item(ui.new_textbox,aZ)end;function bb:listbox(aZ,...)local aV={...}if type(aV[1])=="table"then aV=aV[1]end;local aU=self:_create_item(ui.new_listbox,aZ,aV)aU:set_getter_callback(function(b3)return aU.getter.data[b3+1]end,aV)return aU end;function bb:label(aZ)aL(type(aZ)=="string","Label name must be a string.")return self:_create_item(ui.new_label,aZ)end;function bb:_create_item(aX,aZ,...)aL(type(aZ)=="string"and aZ~="",3,"Cannot create menu item: name must be a non-empty string.")local aU=aS.new(aX,self.tab,self.container,aZ,...)self.children[aU.reference]=aU;return aU end;function bb._validate_tab_container(aQ,aY)aL(type(aQ)=="string"and aQ~="",4,"Cannot create menu manager: tab name must be a non-empty string.")aL(type(aY)=="string"and aY~="",4,"Cannot create menu manager: tab name must be a non-empty string.")aQ=aQ:lower()aL(aP[aQ]~=nil,4,"Cannot create menu manager: tab name does not exist.")aL(aP[aQ][aY:lower()]~=nil,4,"Cannot create menu manager: container name does not exist.")end;local br={}local bs={__index=br}function br.new(aZ,bt,bu,bv,bw,bx)return setmetatable({name=aZ,map=bt,origin=bu,activation_origin=bv,activation_radius=bw,detection_polygon=bx,distance=0},bs):init()end;function br:init()self.distance=self.activation_origin:distance2(self.origin)return self end;local by={}local bz={__index=by}function by.new()return setmetatable({debug=false,helper_color={255,255,150,200},oneways={br.new("Connector to Mid","de_mirage",u(-756.01153564453,-1288.03125,-104.78723907471),u(-763.54510498047,-1321.3107910156,-167.96875),40,{u(-772.05810546875,-1197.0307617188,-167.96875),u(-625.14050292969,-1147.8757324219,-167.96875),u(-597.73706054688,-954.39459228516,-215.96875),u(-596.45025634766,-945.234375,-223.96875),u(-604.07354736328,-802.9453125,-264),u(-576.56323242188,-803.89184570313,-264),u(-456.16000366211,-330.29956054688,-165.94973754883),u(-692.92419433594,-331.28762817383,-168),u(-730.87341308594,-802.62548828125,-264),u(-737.25531005859,-907.03259277344,-167.96875)}),br.new("CT to CT Ramp","de_mirage",u(-1432.03125,-1997.4293212891,-201.13325500488),u(-1481.1608886719,-1790.0197753906,-263.96875),72,{u(-1432.3913574219,-2093.0361328125,-250.78540039063),u(-1380.3845214844,-2114.9467773438,-235.96875),u(-1314.9459228516,-2490.5805664063,-207.96875),u(-1333.0964355469,-2485.3735351563,-207.96875)}),br.new("B Apps to Short","de_mirage",u(-729.53784179688,343.03125,-70.216598510742),u(-655.32727050781,577.56695556641,-83.402069091797),64,{u(-856.46856689453,112.91348266602,-172.51812744141),u(-902.74108886719,-438.22677612305,-162.65106201172),u(-790.50201416016,-465.98101806641,-168),u(-749.13757324219,-103.9027557373,-166.81240844727),u(-752.19604492188,102.22345733643,-171.71340942383)}),br.new("Kitchen to CT","de_mirage",u(-2272.03125,-455.16278076172,-106.12683868408),u(-2355.5888671875,-422.15277099609,-167.96875),64,{u(-1442.107421875,-782.86218261719,-167.96875),u(-1453.8181152344,-818.49096679688,-167.96875),u(-1642.4114990234,-737.69818115234,-167.96875),u(-1709.7199707031,-609.32666015625,-167.96875),u(-1545.6528320313,-636.8544921875,-167.96875)}),br.new("Mid below chair","de_mirage",u(-390.06372070313,-807.96875,-201.67395019531),u(-404.59356689453,-781.06402587891,-262.74676513672),64,{u(-383.44100952148,-811.68347167969,-167.96875),u(-261.44393920898,-946.9990234375,-166.94938659668),u(-375.47476196289,-945.72595214844,-165.55358886719)})}},bz)end;function by:process(bA)if bA.forwardmove==-450 or bA.forwardmove==450 or bA.sidemove==-450 or bA.sidemove==450 then return end;local bB;local bC={}for b7,bD in pairs(self.oneways)do local bE=self:select(bD)if next(bE)~=nil then bB=bD;bC=bE;break end end;if bB==nil or next(bC)==nil then return end;local bF=u(client.eye_position())local bG=f(client.camera_angles())local bH;local bI;local bJ=math.huge;for b7,bK in pairs(bC)do local bL=u(entity.get_prop(bK,"m_vecOrigin"))bL:offset(0,0,46)local aK=bG:fov_to(bF,bL)if aK<bJ then bI=bL;bH=bK;bJ=aK end end;local bM=bB.origin:angle_to(bI)local bN=bB.origin+bM:to_backward_vector()*bB.distance;local bO=bF:angle_to(bN)bA.forwardmove=450;bA.sidemove=0;bA.move_yaw=bO.y end;function by:select(bB)if bB.map~=globals.mapname()then return{}end;local bP=entity.get_local_player()local bQ=u(entity.get_prop(bP,"m_vecOrigin"))if bQ:distance2(bB.activation_origin)>bB.activation_radius then return{}end;local bC={}for b7,bK in pairs(entity.get_players(true))do local bL=u(entity.get_prop(bK,"m_vecOrigin"))if bL:inside_polygon2(bB.detection_polygon)then table.insert(bC,bK)end end;return bC end;function by:render()local bR=u(client.camera_position())local bS="c"local ai=1;for b7,bB in pairs(self.oneways)do if bB.map==globals.mapname()then local bT=u(entity.get_prop(entity.get_local_player(),"m_vecAbsOrigin"))if bT:distance(bB.activation_origin)<bB.activation_radius then bS="cb"ai=4;renderer.indicator(self.helper_color[1],self.helper_color[2],self.helper_color[3],255,"1WAY")end;local bu=bB.activation_origin:to_screen()if bu~=nil then local C=bR:distance(bB.origin)if C<768 then local bU=math.max(0,(0-(C-768)/768)*self.helper_color[4])local bV=bB.activation_origin:clone_offset(0,0,8):to_screen()if bV~=nil then renderer.text(bV.x,bV.y,self.helper_color[1],self.helper_color[2],self.helper_color[3],bU,bS,0,bB.name)end;bB.activation_origin:draw_circle(bB.activation_radius,self.helper_color[1],self.helper_color[2],self.helper_color[3],bU/2,10,ai,true,0,1)end end end end end;function by:render_debug()if self.debug==false then return end;for b7,bB in pairs(self.oneways)do local bQ=u(entity.get_prop(entity.get_local_player(),"m_vecAbsOrigin"))local l,ae,af=self.helper_color[1],self.helper_color[2],self.helper_color[3]local bW=bB.origin:to_screen()if bW~=nil then local C=u(client.camera_position()):distance(bB.origin)local ad=20/(C/100)local bX=3/(C/100)renderer.circle_outline(bW.x,bW.y,l,ae,af,100,ad,0,1,bX)end;if bQ:inside_polygon2(bB.detection_polygon)==true then l,ae,af=255,100,100 end;s.draw_polygon(bB.detection_polygon,l,ae,af,75,768)end end;local bY=by.new()local bZ=bb.new("config","presets")bZ:label("--------------------------------------------------")bZ:label("Auto 1-Way - v1.0.0-beta")local b_=bZ:checkbox("Enable Auto 1-Way")local c0=bZ:color_picker("Helper color",255,255,150,200)c0:add_callback(function()local l,ae,af,ag=c0()bY.helper_color={l,ae,af,ag}end)b_:add_children({c0})client.set_event_callback("paint",function()if b_()==false then return end;bY:render()bY:render_debug()end)client.set_event_callback("setup_command",function(bA)if b_()==false then return end;bY:process(bA)end)client.set_event_callback("bullet_impact",function(b4)if b_()==false or bY.debug==false then return end;local c1=client.userid_to_entindex(b4.userid)if c1~=entity.get_local_player()then return end;print(string.format("%s, %s, %s",b4.x,b4.y,b4.z))end)
